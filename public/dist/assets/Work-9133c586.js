import{_ as I,u as T,h as a,r as M,o as y,c as b,l as t,m as B,b as s,d as v,H as C,t as H,q as W,n as D,E as R,G as X,I as Y}from"./main-57cd2ac9.js";const m=l=>(R("data-v-d2b5dbf0"),l=l(),X(),l),z={class:"page-wrapper"},N=Y('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 43 43" width="40" height="40" data-v-d2b5dbf0><g data-v-d2b5dbf0><g id="Ebene_1" data-v-d2b5dbf0><g id="Ebene_1-2" data-name="Ebene_1" data-v-d2b5dbf0><path class="cls-2" d="M21.5,42C10.2,42,1,32.8,1,21.5S10.2,1,21.5,1s20.5,9.2,20.5,20.5-9.2,20.5-20.5,20.5" data-v-d2b5dbf0></path><line class="cls-1" x1="12" y1="21.5" x2="31" y2="21.5" data-v-d2b5dbf0></line></g></g></g></svg>',1),O=[N],P=["src"],V=m(()=>t("div",{class:"spacer"},null,-1)),$={id:"Ebene_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 28 28",style:{"enable-background":"new 0 0 28 28"},"xml:space":"preserve"},q=m(()=>t("line",{class:"st0",x1:"4.1",y1:"4.1",x2:"23.9",y2:"23.9"},null,-1)),F=m(()=>t("line",{class:"st0",x1:"23.9",y1:"4.1",x2:"4.1",y2:"23.9"},null,-1)),G=[q,F],U=["innerHTML"],j=["innerHTML"],A=["innerHTML"],J={__name:"Work",setup(l,{expose:k}){const n=T();console.log(n);const o=a({x:window.innerWidth/2,y:window.innerHeight/2}),c=a(!1),r=a({x:0,y:0}),i=a(!1),d=a(null),f=a(null);k({title:d,infoSection:f});async function E(){i.value&&(i.value=!1)}async function w(){if(i.value=!i.value,console.log("hi"),i.value){await D();const e=d.value.getBoundingClientRect().width,u=parseFloat(_());e>u&&(d.value.style.whiteSpace="break-spaces",f.value.style.width=_())}}function _(){var e;return((e=document.getElementById("current-image"))==null?void 0:e.offsetWidth)+"px"}function x(){if(document.referrer&&new URL(document.referrer).origin===window.location.origin)history.back();else{const e=window.location.pathname,u=e.substring(0,e.lastIndexOf("/"));window.location.href=u||"/"}}function L(e){c.value=!0,r.value={x:e.clientX-o.value.x,y:e.clientY-o.value.y},document.addEventListener("touchmove",g),document.addEventListener("touchend",h)}function S(e){c.value=!0,r.value={x:e.clientX-o.value.x,y:e.clientY-o.value.y},document.addEventListener("mousemove",g),document.addEventListener("mouseup",h)}function g(e){c.value&&(o.value={x:e.clientX-r.value.x,y:e.clientY-r.value.y})}function h(){c.value=!1,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h)}return console.log(n),(e,u)=>{const p=M("kirbytext");return y(),b("div",z,[t("div",{class:"close-work",onClick:x},O),t("div",{class:"overlay",onClick:x}),t("button",{onClick:w},"Information"),t("div",{class:"image-wrapper",onClick:E},[t("figure",{class:B(s(n).coverimageRatio>1.1?"landscape":"portrait")},[t("img",{id:"current-image",src:s(n).coverimage},null,8,P)],2)]),V,v(t("div",{ref_key:"infoSection",ref:f,class:"info-section-work",style:W({top:`${o.value.y}px`,left:`${o.value.x}px`,"--bgcolor":s(n).color,"max-width":_()}),onMousedown:S,onTouchstart:L},[t("div",{class:"close-me-mobile",onClick:w},[(y(),b("svg",$,G))]),t("h1",{ref_key:"title",ref:d},H(s(n).title),513),v(t("div",{class:"infofield",innerHTML:s(n).infofield},null,8,U),[[p]]),v(t("div",{class:"ratio",innerHTML:s(n).ratio},null,8,j),[[p]]),v(t("div",{class:"year",innerHTML:s(n).year},null,8,A),[[p]])],36),[[C,i.value]])])}}},Q=I(J,[["__scopeId","data-v-d2b5dbf0"]]);export{Q as default};
