import{_ as H,o as g,c as _,l as i,t as O,m,F as $,p as V,k as F,j as W,v as q,u as G,h as p,C as P,D as R,a as f,w as I,q as x,b as y,g as S,E as U,G as J}from"./main-68db7c49.js";import{_ as K}from"./SideNavigation-9df5209b.js";import"./index-7d9a9c74.js";const Q={class:"info-section"},Z=["innerHTML"],ee={__name:"InfoChild",props:{pagedata:Object,childIndex:Number,slug:String,isOpen:Boolean},setup(u){const h=u;return(k,z)=>(g(),_($,null,[i("h1",{class:m([h.slug,u.isOpen?"open":""])},O(u.pagedata.title),3),i("div",Q,[(g(!0),_($,null,V(u.pagedata.blocks,b=>(g(),_("div",{key:b.id,class:"single-info",innerHTML:b},null,8,Z))),128))])],64))}},oe=H(ee,[["__scopeId","data-v-6bc6708e"]]);const te=u=>(U("data-v-395ff63a"),u=u(),J(),u),ne={class:"information-content-wrapper"},se=["onMousedown","onClick"],le={class:"mobile-only-top-navigation"},ae=te(()=>i("div",{class:"current-route"},"Information",-1)),ie={class:"mode-selector"},ue={class:"bottom-navi"},re={__name:"Infohub",setup(u){const h=F(),k=W(),z=q(),b=G("/information"),r=p("dark"),l=p([]),L={},C={},T=p(null),E=p(!0),w=p(null),d=p(null);P(r,()=>{console.log("mode changed"),r.value=="dark"?(console.log("dark"),document.body.classList.remove("dark-body")):document.body.classList.add("dark-body")}),P(()=>h.fullPath,(o,e)=>{const t=o.split("/").filter(n=>n);t.length>1&&t[0]=="information"&&M(null,L[t[1]])}),P(()=>{var o;return(o=b.children)==null?void 0:o.slice().reverse()},o=>{if(o&&Array.isArray(o)){l.value=o.map((t,n)=>({top:(window.innerHeight-window.innerWidth/100*2)/2,left:window.innerWidth*.98/2,zindex:1,flex:"8rem 0 0",order:n})),o.forEach((t,n)=>{L[t.slug]=n,C[n]=t.slug});const e=h.fullPath.split("/").filter(t=>t);e.length>1&&M(null,L[e[1]])}});function X(o){const e=h.fullPath.split("/").filter(Boolean);e[0]==="information"&&(e.length>1?e[1]=o:e.push(o),z.replace("/"+e.join("/")))}const Y=()=>getComputedStyle(document.documentElement).getPropertyValue("--isMobile").trim()=="true";function M(o,e){var t;if(Y())((t=o==null?void 0:o.target)==null?void 0:t.tagName)=="H1"&&e==w.value?(console.log("closer!!"),l.value.forEach(n=>{n.flex="0 0 8rem"}),E.value=!0,w.value=null):(w.value=e,E.value=!1,l.value.forEach(n=>{n.flex="0 0 8rem"}),l.value[e].flex="1 0 0");else{const n=[...l.value].sort((c,s)=>c.zindex-s.zindex);n.forEach((c,s)=>{c.zindex=s+1}),l.value[e].zindex=n.length+1}X(C[e])}function j(o,e){T.value=e;const t=l.value[e],n=o.clientX,c=o.clientY,s=t.left,a=t.top;function v(N){const A=N.clientX-n,D=N.clientY-c;l.value[e].left=s+A,l.value[e].top=a+D,M(null,e)}function B(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",B),T.value=null}window.addEventListener("mousemove",v),window.addEventListener("mouseup",B)}return(o,e)=>{var c;const t=R("RouterLink"),n=R("router-link");return g(),_("div",{class:m(["page-wrapper",r.value])},[f(K,{parent:"/information",mode:r.value,class:"side-navi"},null,8,["mode"]),i("div",ne,[f(t,{class:"mobile-only-work-link",style:x("--backroundworks:"+y(k).works.color+";"),to:"/arbeiten"},{default:I(()=>[S("Arbeiten")]),_:1},8,["style"]),i("div",{class:m(["spacer",{flexone:E.value}])},null,2),(g(!0),_($,null,V((c=y(b).children)==null?void 0:c.slice().reverse(),(s,a)=>(g(),_("div",{key:a,class:m(["child",[s.slug,w.value==a?"open":""]]),style:x({top:l.value[a].top+"px",left:l.value[a].left+"px","z-index":l.value[a].zindex,flex:l.value[a].flex}),onMousedown:v=>j(v,a),onClick:v=>M(v,a)},[f(oe,{pagedata:s,"child-index":a,slug:s.slug,"is-open":w.value==a},null,8,["pagedata","child-index","slug","is-open"])],46,se))),128)),i("div",le,[i("h1",null,[f(t,{to:"/",class:"navi-link"},{default:I(()=>[S(O(y(k).title),1)]),_:1})]),ae])]),i("div",ie,[i("button",{class:m({active:r.value=="dark",hovering:d.value===2}),style:x("--backroundworks:"+y(k).information.color+";"),onClick:e[0]||(e[0]=s=>r.value="dark"),onMouseover:e[1]||(e[1]=s=>d.value=1),onMouseleave:e[2]||(e[2]=s=>d.value=null)}," 1 ",38),i("button",{class:m({active:r.value=="light",hovering:d.value===1}),style:x("--backroundworks:"+y(k).information.color+";"),onClick:e[3]||(e[3]=s=>r.value="light"),onMouseover:e[4]||(e[4]=s=>d.value=2),onMouseleave:e[5]||(e[5]=s=>d.value=null)}," 2 ",38)]),i("div",ue,[f(n,{to:"/information/impressum"},{default:I(()=>[S("Impressum")]),_:1}),f(n,{to:"/information/privatsphare"},{default:I(()=>[S("Privatsph√§re")]),_:1})])],2)}}},pe=H(re,[["__scopeId","data-v-395ff63a"]]);export{pe as default};
