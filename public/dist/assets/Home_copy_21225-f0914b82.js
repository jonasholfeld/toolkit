import{_ as O,j as q,h as f,v as x,x as ee,i as te,y as ne,o as p,c as w,l as v,t as z,b as m,F as H,p as G,q as $,z as oe,m as V}from"./main-4cda93b6.js";import{g as d}from"./index-7d9a9c74.js";const ie={class:"home-wrapper"},ae={class:"work-navigation"},le=["onMousedown"],se=["canMoveLeft","canMoveRight","onClick"],re={class:"info-navigation"},ue=["onMousedown"],ce=["canMoveLeft","canMoveRight","onClick"],fe={__name:"Home_copy_21225",setup(ve){const g=q(),s=f([]),r=f([]),M=f(!1),_=f(!1),E=f(!0),b=f(null),D=f(null),R=f(null),W=32*(window.innerWidth/100),y=1*(window.innerWidth/100),J=x();ee(()=>{document.body.classList.remove("dark-body")});const K=async()=>{try{const e=await q(),t=oe(e);B(t.works.children,s,W,"Arbeiten",window.innerWidth/100*-18),B(t.information.children,r,y,"Information",window.innerWidth/2),s.value.length!==r.value.length&&(s.value.length>r.value.length?r.value.push(N(y,r.value.length,"Information")):s.value.push(N(W,s.value.length,"Arbeiten")))}catch(e){console.error("Failed to initialize data:",e)}},N=(e,t,i)=>{function n(o){const a=window.innerWidth/100;return i=="Arbeiten"?e-5*a*(o+1):e+5*a*(o+1)}return{id:t,title:"empty",left:n(t),previous:t-1,uri:null,isDragging:!1,canMoveRight:!0,canMoveLeft:!0,width:window.innerWidth/100*17}},B=(e,t,i,n,o)=>{t.value[0]={id:0,title:n,left:o,previous:null,uri:null,isDragging:!1,canMoveRight:!1,canMoveLeft:!1,width:window.innerWidth/100*17,addClass:"heading-category",top:0},e.forEach((l,u)=>{t.value.push({top:0,id:u+1,left:a(u),title:l.title,previous:u,uri:l.uri,isDragging:!1,startX:0,dragStartLeft:0,canMoveRight:!0,canMoveLeft:!0,width:window.innerWidth/100*17,addClass:"link-element"})});function a(l){const u=window.innerWidth/100;return n=="Arbeiten"?i-5*u*(l+1)+2:i+5*u*(l+1)}},Q=()=>{const e=32*(window.innerWidth/100),t=1*(window.innerWidth/100),i=window.innerWidth/100;s.value.forEach((n,o)=>{o==0?n.left=e:(o==1&&console.log("left value of first work ",e-5*i*(o+1)),n.left=e-5*i*o)}),r.value.forEach((n,o)=>{o==0?n.left=t:n.left=t+5*i*o})};te(()=>{window.innerWidth<=800&&(console.log("mobile!! "),d.set(D.value,{y:-window.innerHeight}),d.to(D.value,{y:0,duration:1.5,ease:"bounce.out"})),window.addEventListener("resize",()=>{Q()}),K(),setTimeout(()=>{s.value[0].left=W,r.value[0].left=y},500),setTimeout(()=>{E.value=!1},2e3)});const P=e=>{console.log(b,R),e=="works"?M.value?M.value=!1:(M.value=!0,d.set(b.value.map(t=>t),{y:-window.innerHeight}),d.to(b.value.map(t=>t),{y:0,duration:1.5,ease:"bounce.out"})):_.value?_.value=!1:(_.value=!0,d.set(R.value.map(t=>t),{y:-window.innerHeight}),d.to(R.value.map(t=>t),{y:0,duration:1.5,ease:"bounce.out"}))};let j,k,F;const T=(e,t,i,n)=>{k=n,j=i.clientX,F=Date.now(),t==="work"?(s.value[e].isDragging=!0,s.value[e].startX=i.clientX,s.value[e].dragStartLeft=s.value[e].left):t==="info"&&(r.value[e].isDragging=!0,r.value[e].startX=i.clientX,r.value[e].dragStartLeft=r.value[e].left),document.addEventListener("mousemove",o=>L(e,t,o)),document.addEventListener("mouseup",S)},L=(e,t,i,n=!1)=>{let o,a,l;if(n?l=!0:t==="work"?l=s.value[e].isDragging:l=r.value[e].isDragging,t==="work"&&l?(o=s.value[e],a=s.value):t==="info"&&l&&(o=r.value[e],a=r.value),!o||!a)return;let u;if(n)t=="work"?u=o.left-i.clientX:u=o.left+i.clientX;else{const c=i.clientX-o.startX;u=o.dragStartLeft+c}if(e===0){o.canMoveLeft=!1,o.canMoveRight=!1;return}if(!Z(o,u,a))return;u<o.left?o.canMoveRight=!0:o.canMoveLeft=!0,o.left=u;const h=Y(o,t);if(h>0){let c;t=="work"?c="info":c="work";const A={clientX:h};L(o.id,c,A,!0)}I(e,a,t)},Y=(e,t)=>{let i,n;if(t=="work"){if(i=r.value[e.id],!i)return 0;n=e.left+e.width+10-(i.left+window.innerWidth/2)}else{if(i=s.value[e.id],!i)return 0;n=i.left+i.width+10-(e.left+window.innerWidth/2)}return n},Z=(e,t,i)=>{const n=e.previous,o=i[n],a=o.left+o.width/2;if(t+e.width<a){if(!o.canMoveLeft)return e.canMoveLeft=!1,!1;e.canMoveRight=!0}if(t>a){if(!o.canMoveRight)return e.canMoveRight=!1,!1;e.canMoveLeft=!0}return!0},I=(e,t,i)=>{e!==0&&(X(e,t,i),C(e,t))},X=(e,t,i)=>{if(e===0)return;const n=t[e],o=n.previous;if(o===null||o===0)return;const a=t[o],l=a.left+a.width/2,u=t[o-1]||null,h=u?u.left+u.width/2:null;if(n.left+n.width<l){const c=n.left+a.width/2;U(a,c,h,"left",i)&&(a.left=c,X(o,t,i))}if(n.left>l){const c=n.left-a.width/2;U(a,c,h,"right",i)&&(a.left=c,X(o,t,i))}},C=(e,t)=>{const i=e+1;if(i>=t.length)return;const n=t[e],o=t[i],a=o.left+o.width/2;n.left+n.width<a&&(o.left=n.left+n.width/2,C(i,t)),n.left>a&&(o.left=n.left-o.width/2,C(i,t))},U=(e,t,i,n,o)=>{let a;if(o=="work"?a=s.value[e.previous]:a=r.value[e.previous],n==="left"&&i!==null){if(t+e.width<i&&!a.canMoveLeft)return e.canMoveLeft=!1,!1;e.canMoveRight=!0}if(n==="right"&&i!==null){if(t>i&&!a.canMoveRight)return e.canMoveRight=!1,!1;e.canMoveLeft=!0}return!0},S=e=>{s.value.forEach(t=>{t.isDragging&&(t.isDragging=!1)}),r.value.forEach(t=>{t.isDragging&&(t.isDragging=!1)}),Math.abs(e.clientX-j)<3&&F-Date.now()<300&&k&&J.push("/"+k),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",S)};return ne(()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",S)}),(e,t)=>{var i;return p(),w(H,null,[v("div",ie,[v("h1",null,z((i=m(g))==null?void 0:i.title),1)]),v("div",{ref_key:"homenavigation",ref:D,class:"home-navigation",style:$("--workcolor: "+m(g).works.color+"; --infocolor: "+m(g).information.color)},[v("div",ae,[(p(!0),w(H,null,G(s.value,(n,o)=>{var a;return p(),w("div",{key:n.uri,class:"drag-track",onMousedown:l=>T(o,"work",l,n.uri)},[v("div",{ref_for:!0,ref:n.id===0?"":"draggableWorks",class:V(["draggable-link",[o==0&&E.value?"transitionleft":"",n.title==="empty"?"empty":"",n.addClass,M.value?"":"hide"]]),style:$({backgroundColor:(a=m(g))==null?void 0:a.works.color,left:`${n.left}px`,top:`${n.top}px`}),canMoveLeft:n.canMoveLeft,canMoveRight:n.canMoveRight,onClick:l=>n.id===0?P("works"):null},z(n.title),15,se)],40,le)}),128))]),v("div",re,[(p(!0),w(H,null,G(r.value,(n,o)=>{var a;return p(),w("div",{key:n.uri,class:"drag-track",onMousedown:l=>T(o,"info",l,n.uri)},[v("div",{ref_for:!0,ref:n.id===0?"":"draggableInfos",class:V(["draggable-link",[o==0&&E.value?"transitionleft":"",n.title==="empty"?"empty":"",n.addClass,_.value?"":"hide"]]),style:$({backgroundColor:(a=m(g))==null?void 0:a.information.color,left:`${n.left}px`,top:`${n.top}px`}),canMoveLeft:n.canMoveLeft,canMoveRight:n.canMoveRight,onClick:l=>n.id===0?P("info"):null},z(n.title),15,ce)],40,ue)}),128))])],4)],64)}}},he=O(fe,[["__scopeId","data-v-6b1aab77"]]);export{he as default};
